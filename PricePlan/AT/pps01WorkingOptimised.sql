SELECT A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT,  CAST(A.TCOMITM_CAT_COD AS VARCHAR(14) FOR SBCS DATA) AS PROMIS, E.BEORDRIN ,CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND,  CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND,CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND , A.INSTN_OID,  CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D,  STHDSN5.DB2ACC.FPT8200 E WHERE   A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND LENGTH(TRIM(A.TCOMITM_CAT_COD)) > 0 AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND E.PROMIS_ID = DECIMAL(A.TCOMITM_CAT_COD) UNION SELECT   A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT, CAST(A.TCOMITM_CAT_COD AS VARCHAR(14) FOR SBCS DATA) AS PROMIS,CAST(NULL AS VARCHAR(14)), CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND, CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND, CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D WHERE A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND LENGTH(TRIM(A.TCOMITM_CAT_COD)) > 0 AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND NOT EXISTS (SELECT E.PROMIS_ID FROM  STHDSN5.DB2ACC.FPT8200 E WHERE  E.PROMIS_ID = DECIMAL(A.TCOMITM_CAT_COD)) UNION SELECT  A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT,  CAST(A.ASOC_ID AS VARCHAR(14) FOR SBCS DATA) AS PROMIS, E.BEORDRIN, CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND, CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND,CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D,  STHDSN5.DB2ACC.FPT8200 E WHERE A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND A.TCOMITM_CAT_COD = ''  AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND E.PROMIS_ID = DECIMAL(A.ASOC_ID) UNION SELECT   A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT, CAST(A.ASOC_ID AS VARCHAR(14) FOR SBCS DATA) AS PROMIS, E.TRT_VL, CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND,CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND, CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM     STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D, STHDSN5.ITSACC.ASGND_TRT_TABL E WHERE    A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND A.TCOMITM_CAT_COD = '' AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND E.ASOC_ID = A.ASOC_ID UNION SELECT   A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT, CAST(A.ASOC_ID AS VARCHAR(14) FOR SBCS DATA) AS PROMIS,CAST(NULL AS VARCHAR(14)), CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND, CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND, CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D WHERE A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND A.TCOMITM_CAT_COD = ''  AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND NOT EXISTS (SELECT E.PROMIS_ID FROM  STHDSN5.DB2ACC.FPT8200 E WHERE  E.PROMIS_ID = DECIMAL(A.ASOC_ID)) AND NOT EXISTS (SELECT F.ASOC_ID FROM STHDSN5.ITSACC.ASGND_TRT_TABL F WHERE F.ASOC_ID = A.ASOC_ID) ORDER BY  1

curl -X GET http://131.116.44.144:1315/services/SYSIBMSERVICE/testpp/V1 -H "Content-Type: application/json" -u a472inb:INblatS2 | jq
{
  "dburl": "http://131.116.44.144:1315/services/DB2ServiceManager",
  "username": "a472inb",
  "password": "INblatS2",
  "sqlStmt": "SELECT A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT,  CAST(A.TCOMITM_CAT_COD AS VARCHAR(14) FOR SBCS DATA) AS PROMIS, E.BEORDRIN ,CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND,  CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND,CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND , A.INSTN_OID,  CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D,  STHDSN5.DB2ACC.FPT8200 E WHERE   A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND LENGTH(TRIM(A.TCOMITM_CAT_COD)) > 0 AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND E.PROMIS_ID = DECIMAL(A.TCOMITM_CAT_COD) UNION SELECT   A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT, CAST(A.TCOMITM_CAT_COD AS VARCHAR(14) FOR SBCS DATA) AS PROMIS,CAST(NULL AS VARCHAR(14)), CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND, CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND, CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D WHERE A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND LENGTH(TRIM(A.TCOMITM_CAT_COD)) > 0 AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND NOT EXISTS (SELECT E.PROMIS_ID FROM  STHDSN5.DB2ACC.FPT8200 E WHERE  E.PROMIS_ID = DECIMAL(A.TCOMITM_CAT_COD)) UNION SELECT  A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT,  CAST(A.ASOC_ID AS VARCHAR(14) FOR SBCS DATA) AS PROMIS, E.BEORDRIN, CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND, CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND,CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D,  STHDSN5.DB2ACC.FPT8200 E WHERE A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND A.TCOMITM_CAT_COD = ''  AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND E.PROMIS_ID = DECIMAL(A.ASOC_ID) UNION SELECT   A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT, CAST(A.ASOC_ID AS VARCHAR(14) FOR SBCS DATA) AS PROMIS, E.TRT_VL, CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND,CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND, CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM     STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D, STHDSN5.ITSACC.ASGND_TRT_TABL E WHERE    A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND A.TCOMITM_CAT_COD = '' AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND E.ASOC_ID = A.ASOC_ID UNION SELECT   A.SBSCT_ID, A.SBSCT_STRTDT, A.SBSCT_STOPDT, CAST(A.ASOC_ID AS VARCHAR(14) FOR SBCS DATA) AS PROMIS,CAST(NULL AS VARCHAR(14)), CAST( A.GRP_TYPIND AS VARCHAR(14) FOR SBCS DATA) AS GRP_TYPIND, CAST( A.UPP_PLAN_TYP_IND AS VARCHAR(14) FOR SBCS DATA) AS UPP_PLAN_TYP_IND, A.RPROC_IND, CAST( A.BOUTPT_LOC_IND AS VARCHAR(14) FOR SBCS DATA) AS BOUTPT_LOC_IND, A.INSTN_OID, CAST(B.AGREE_ID AS VARCHAR(14) FOR SBCS DATA) AS AGREE_ID, CAST(D.PRSON_ORG_NM AS VARCHAR(14) FOR SBCS DATA) AS  PRSON_ORG_NM, D.CURR_CUST_ID FROM STHDSN5.ITSACC.USAG_PPSCPTN_DATA A, STHDSN5.ITSACC.AGREEMENT_DATA B, STHDSN5.ITSACC.CUSTOMER_DATA D WHERE A.CUST_PARTN_ID=:CUST_PARTN_ID AND A.SBSCT_CUST_OID=:SBSCT_CUST_OID AND A.TCOMITM_CAT_COD = ''  AND B.CUST_PARTN_ID=A.CUST_PARTN_ID AND B.AGREE_OID=A.AGREE_OID AND D.CUST_PARTN_ID = A.CUST_PARTN_ID AND D.CUST_OID = A.SBSCT_CUST_OID AND NOT EXISTS (SELECT E.PROMIS_ID FROM  STHDSN5.DB2ACC.FPT8200 E WHERE  E.PROMIS_ID = DECIMAL(A.ASOC_ID)) AND NOT EXISTS (SELECT F.ASOC_ID FROM STHDSN5.ITSACC.ASGND_TRT_TABL F WHERE F.ASOC_ID = A.ASOC_ID) ORDER BY  1",
  "collectionID": "SYSIBMSERVICE",
   "owner": "COMINAT5",
  "validate": "BIND",
  "serviceName": "pps01",
  "description": "pps01 based on CUST_PARTN_ID,SBSCT_CUST_OID",
  "requestType": "createService",
  "version": "V1",
  "response": ""
}
